<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/../EJEMPLOS-CRUD.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/../EJEMPLOS-CRUD.md" />
              <option name="originalContent" value="#  EJEMPLOS CRUD ESPECÍFICOS - CRIMEWAVEE&#10;&#10;##  Base URL: http://3.15.178.116:8080/api/products&#10;&#10;---&#10;&#10;## 1️⃣ **CREATE - Crear Productos**&#10;&#10;### **Crear Polera:**&#10;```bash&#10;curl -X POST http://3.15.178.116:8080/api/products \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&#10;  &quot;name&quot;: &quot;Polera Naruto Uzumaki&quot;,&#10;  &quot;description&quot;: &quot;Polera oficial de Naruto Shippuden&quot;,&#10;  &quot;price&quot;: 26000,&#10;  &quot;category&quot;: &quot;Poleras&quot;,&#10;  &quot;imageUrl&quot;: &quot;https://via.placeholder.com/300x300/orange/white?text=Naruto&quot;,&#10;  &quot;stock&quot;: 20,&#10;  &quot;isNew&quot;: true,&#10;  &quot;isFeatured&quot;: false&#10;}'&#10;```&#10;&#10;### **Crear Polerón:**&#10;```bash&#10;curl -X POST http://3.15.178.116:8080/api/products \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&#10;  &quot;name&quot;: &quot;Polerón Attack on Titan&quot;,&#10;  &quot;description&quot;: &quot;Polerón con logo de Shingeki no Kyojin&quot;,&#10;  &quot;price&quot;: 45000,&#10;  &quot;category&quot;: &quot;Polerones&quot;, &#10;  &quot;imageUrl&quot;: &quot;https://via.placeholder.com/300x300/darkgreen/white?text=AOT&quot;,&#10;  &quot;stock&quot;: 12,&#10;  &quot;isNew&quot;: false,&#10;  &quot;isFeatured&quot;: true&#10;}'&#10;```&#10;&#10;### **Crear Cuadro:**&#10;```bash&#10;curl -X POST http://3.15.178.116:8080/api/products \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&#10;  &quot;name&quot;: &quot;Cuadro One Piece Luffy&quot;,&#10;  &quot;description&quot;: &quot;Cuadro artístico de Monkey D. Luffy&quot;,&#10;  &quot;price&quot;: 38000,&#10;  &quot;category&quot;: &quot;Cuadros&quot;,&#10;  &quot;imageUrl&quot;: &quot;https://via.placeholder.com/300x300/red/white?text=Luffy&quot;,&#10;  &quot;stock&quot;: 8,&#10;  &quot;isNew&quot;: true,&#10;  &quot;isFeatured&quot;: true&#10;}'&#10;```&#10;&#10;---&#10;&#10;## 2️⃣ **READ - Leer Productos**&#10;&#10;### **Ver todos los productos:**&#10;```bash&#10;curl http://3.15.178.116:8080/api/products&#10;```&#10;&#10;### **Ver producto específico:**&#10;```bash&#10;# Usando ID de producto existente&#10;curl http://3.15.178.116:8080/api/products/polera-gojo-001&#10;```&#10;&#10;### **Ver por categoría:**&#10;```bash&#10;# Poleras&#10;curl http://3.15.178.116:8080/api/products/category/Poleras&#10;&#10;# Polerones  &#10;curl http://3.15.178.116:8080/api/products/category/Polerones&#10;&#10;# Cuadros&#10;curl http://3.15.178.116:8080/api/products/category/Cuadros&#10;```&#10;&#10;### **Ver productos destacados:**&#10;```bash&#10;curl http://3.15.178.116:8080/api/products/featured&#10;```&#10;&#10;### **Ver productos nuevos:**&#10;```bash&#10;curl http://3.15.178.116:8080/api/products/new&#10;```&#10;&#10;---&#10;&#10;## 3️⃣ **UPDATE - Actualizar Productos**&#10;&#10;### **Actualizar precio:**&#10;```bash&#10;curl -X PUT http://3.15.178.116:8080/api/products/polera-gojo-001 \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&#10;  &quot;price&quot;: 25000&#10;}'&#10;```&#10;&#10;### **Actualizar stock:**&#10;```bash&#10;curl -X PUT http://3.15.178.116:8080/api/products/polera-gojo-001 \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&#10;  &quot;stock&quot;: 30&#10;}'&#10;```&#10;&#10;### **Actualizar varios campos:**&#10;```bash&#10;curl -X PUT http://3.15.178.116:8080/api/products/polera-gojo-001 \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&#10;  &quot;name&quot;: &quot;Polera Satoru Gojo Edición Limitada&quot;,&#10;  &quot;price&quot;: 28000,&#10;  &quot;stock&quot;: 10,&#10;  &quot;isFeatured&quot;: true,&#10;  &quot;isNew&quot;: false&#10;}'&#10;```&#10;&#10;### **Marcar como destacado:**&#10;```bash&#10;curl -X PUT http://3.15.178.116:8080/api/products/polera-gojo-001 \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&#10;  &quot;isFeatured&quot;: true&#10;}'&#10;```&#10;&#10;---&#10;&#10;## 4️⃣ **DELETE - Eliminar Productos**&#10;&#10;### **Eliminar producto específico:**&#10;```bash&#10;curl -X DELETE http://3.15.178.116:8080/api/products/producto-a-eliminar-001&#10;```&#10;&#10;### **Confirmar eliminación:**&#10;```bash&#10;# Verificar que ya no existe&#10;curl http://3.15.178.116:8080/api/products/producto-eliminado-001&#10;# Debería devolver 404 Not Found&#10;```&#10;&#10;---&#10;&#10;##  **OPERACIONES ESPECIALES**&#10;&#10;### **Inicializar datos de prueba:**&#10;```bash&#10;curl -X POST http://3.15.178.116:8080/api/products/init-sample-data&#10;```&#10;&#10;### **Respuesta esperada:**&#10;```json&#10;{&#10;  &quot;message&quot;: &quot;Datos de prueba inicializados exitosamente&quot;,&#10;  &quot;productos_creados&quot;: 4&#10;}&#10;```&#10;&#10;---&#10;&#10;##  **PRODUCTOS ACTUALES EN LA TIENDA**&#10;&#10;```json&#10;[&#10;  {&#10;    &quot;id&quot;: &quot;polera-gojo-001&quot;,&#10;    &quot;name&quot;: &quot;Polera Satoru Gojo&quot;,&#10;    &quot;description&quot;: &quot;Polera del personaje principal de Jujutsu Kaisen&quot;,&#10;    &quot;price&quot;: 22000,&#10;    &quot;category&quot;: &quot;Poleras&quot;,&#10;    &quot;imageUrl&quot;: &quot;https://via.placeholder.com/300x300/blue/white?text=Gojo&quot;,&#10;    &quot;stock&quot;: 15,&#10;    &quot;isNew&quot;: true,&#10;    &quot;isFeatured&quot;: false&#10;  },&#10;  {&#10;    &quot;id&quot;: &quot;poleron-toga-001&quot;,&#10;    &quot;name&quot;: &quot;Polerón Toga Himiko&quot;, &#10;    &quot;description&quot;: &quot;Polerón de la villana de My Hero Academia&quot;,&#10;    &quot;price&quot;: 42000,&#10;    &quot;category&quot;: &quot;Polerones&quot;,&#10;    &quot;imageUrl&quot;: &quot;https://via.placeholder.com/300x300/yellow/black?text=Toga&quot;,&#10;    &quot;stock&quot;: 8,&#10;    &quot;isNew&quot;: false,&#10;    &quot;isFeatured&quot;: true&#10;  },&#10;  {&#10;    &quot;id&quot;: &quot;cuadro-given-001&quot;,&#10;    &quot;name&quot;: &quot;Cuadro Given&quot;,&#10;    &quot;description&quot;: &quot;Cuadro artístico del anime Given&quot;,&#10;    &quot;price&quot;: 45000,&#10;    &quot;category&quot;: &quot;Cuadros&quot;, &#10;    &quot;imageUrl&quot;: &quot;https://via.placeholder.com/300x300/purple/white?text=Given&quot;,&#10;    &quot;stock&quot;: 5,&#10;    &quot;isNew&quot;: true,&#10;    &quot;isFeatured&quot;: false&#10;  },&#10;  {&#10;    &quot;id&quot;: &quot;cuadro-gojo-001&quot;,&#10;    &quot;name&quot;: &quot;Cuadro Gojo&quot;,&#10;    &quot;description&quot;: &quot;Cuadro artístico de Satoru Gojo&quot;,&#10;    &quot;price&quot;: 35000,&#10;    &quot;category&quot;: &quot;Cuadros&quot;,&#10;    &quot;imageUrl&quot;: &quot;https://via.placeholder.com/300x300/white/blue?text=Gojo+Art&quot;, &#10;    &quot;stock&quot;: 3,&#10;    &quot;isNew&quot;: false,&#10;    &quot;isFeatured&quot;: true&#10;  }&#10;]&#10;```&#10;&#10;---&#10;&#10;##  **BÚSQUEDAS Y FILTROS**&#10;&#10;### **Productos por rango de precio:**&#10;```bash&#10;# Productos baratos (&lt; 30000)&#10;curl &quot;http://3.15.178.116:8080/api/products&quot; | jq '.[] | select(.price &lt; 30000)'&#10;&#10;# Productos caros (&gt; 40000)&#10;curl &quot;http://3.15.178.116:8080/api/products&quot; | jq '.[] | select(.price &gt; 40000)'&#10;```&#10;&#10;### **Productos con stock bajo:**&#10;```bash&#10;curl &quot;http://3.15.178.116:8080/api/products&quot; | jq '.[] | select(.stock &lt; 10)'&#10;```&#10;&#10;### **Contar productos por categoría:**&#10;```bash&#10;# Contar Poleras&#10;curl &quot;http://3.15.178.116:8080/api/products/category/Poleras&quot; | jq 'length'&#10;&#10;# Contar Polerones  &#10;curl &quot;http://3.15.178.116:8080/api/products/category/Polerones&quot; | jq 'length'&#10;&#10;# Contar Cuadros&#10;curl &quot;http://3.15.178.116:8080/api/products/category/Cuadros&quot; | jq 'length'&#10;```&#10;&#10;---&#10;&#10;##  **CASOS DE PRUEBA**&#10;&#10;### **Test 1: Crear y verificar producto**&#10;```bash&#10;# 1. Crear producto&#10;curl -X POST http://3.15.178.116:8080/api/products \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&quot;name&quot;:&quot;Test Product&quot;,&quot;price&quot;:15000,&quot;category&quot;:&quot;Poleras&quot;,&quot;stock&quot;:5}'&#10;&#10;# 2. Verificar que se creó&#10;curl http://3.15.178.116:8080/api/products | grep &quot;Test Product&quot;&#10;```&#10;&#10;### **Test 2: Actualizar y verificar**&#10;```bash&#10;# 1. Actualizar precio&#10;curl -X PUT http://3.15.178.116:8080/api/products/test-product-id \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&quot;price&quot;:18000}'&#10;&#10;# 2. Verificar cambio&#10;curl http://3.15.178.116:8080/api/products/test-product-id&#10;```&#10;&#10;### **Test 3: Eliminar y verificar**&#10;```bash&#10;# 1. Eliminar producto&#10;curl -X DELETE http://3.15.178.116:8080/api/products/test-product-id&#10;&#10;# 2. Verificar que no existe (debería dar 404)&#10;curl http://3.15.178.116:8080/api/products/test-product-id&#10;```&#10;&#10;---&#10;&#10;##  **RESUMEN DE ENDPOINTS**&#10;&#10;| Operación | Método | URL | Descripción |&#10;|-----------|--------|-----|-------------|&#10;| **Listar todos** | GET | `/api/products` | Ver todos los productos |&#10;| **Ver específico** | GET | `/api/products/{id}` | Ver producto por ID |&#10;| **Por categoría** | GET | `/api/products/category/{cat}` | Filtrar por categoría |&#10;| **Destacados** | GET | `/api/products/featured` | Solo productos destacados |&#10;| **Nuevos** | GET | `/api/products/new` | Solo productos nuevos |&#10;| **Crear** | POST | `/api/products` | Crear nuevo producto |&#10;| **Actualizar** | PUT | `/api/products/{id}` | Modificar producto |&#10;| **Eliminar** | DELETE | `/api/products/{id}` | Borrar producto |&#10;| **Inicializar** | POST | `/api/products/init-sample-data` | Datos de prueba |&#10;&#10;---&#10;&#10;** ¡Con estos ejemplos puedes realizar todas las operaciones CRUD en tu tienda de ropa!**&#10;" />
              <option name="updatedContent" value="#  EJEMPLOS CRUD ESPECÍFICOS - CRIMEWAVEE&#10;&#10;##  Base URL: http://3.15.178.116:8080/api/products&#10;&#10;---&#10;&#10;## 1️⃣ **CREATE - Crear Productos**&#10;&#10;### **Crear Polera:**&#10;```bash&#10;curl -X POST http://3.15.178.116:8080/api/products \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&#10;  &quot;name&quot;: &quot;Polera Naruto Uzumaki&quot;,&#10;  &quot;description&quot;: &quot;Polera oficial de Naruto Shippuden&quot;,&#10;  &quot;price&quot;: 26000,&#10;  &quot;category&quot;: &quot;Poleras&quot;,&#10;  &quot;imageUrl&quot;: &quot;https://via.placeholder.com/300x300/orange/white?text=Naruto&quot;,&#10;  &quot;stock&quot;: 20,&#10;  &quot;isNew&quot;: true,&#10;  &quot;isFeatured&quot;: false&#10;}'&#10;```&#10;&#10;### **Crear Polerón:**&#10;```bash&#10;curl -X POST http://3.15.178.116:8080/api/products \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&#10;  &quot;name&quot;: &quot;Polerón Attack on Titan&quot;,&#10;  &quot;description&quot;: &quot;Polerón con logo de Shingeki no Kyojin&quot;,&#10;  &quot;price&quot;: 45000,&#10;  &quot;category&quot;: &quot;Polerones&quot;, &#10;  &quot;imageUrl&quot;: &quot;https://via.placeholder.com/300x300/darkgreen/white?text=AOT&quot;,&#10;  &quot;stock&quot;: 12,&#10;  &quot;isNew&quot;: false,&#10;  &quot;isFeatured&quot;: true&#10;}'&#10;```&#10;&#10;### **Crear Cuadro:**&#10;```bash&#10;curl -X POST http://3.15.178.116:8080/api/products \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&#10;  &quot;name&quot;: &quot;Cuadro One Piece Luffy&quot;,&#10;  &quot;description&quot;: &quot;Cuadro artístico de Monkey D. Luffy&quot;,&#10;  &quot;price&quot;: 38000,&#10;  &quot;category&quot;: &quot;Cuadros&quot;,&#10;  &quot;imageUrl&quot;: &quot;https://via.placeholder.com/300x300/red/white?text=Luffy&quot;,&#10;  &quot;stock&quot;: 8,&#10;  &quot;isNew&quot;: true,&#10;  &quot;isFeatured&quot;: true&#10;}'&#10;```&#10;&#10;---&#10;&#10;## 2️⃣ **READ - Leer Productos**&#10;&#10;### **Ver todos los productos:**&#10;```bash&#10;curl http://3.15.178.116:8080/api/products&#10;```&#10;&#10;### **Ver producto específico:**&#10;```bash&#10;# Usando ID de producto existente&#10;curl http://3.15.178.116:8080/api/products/polera-gojo-001&#10;```&#10;&#10;### **Ver por categoría:**&#10;```bash&#10;# Poleras&#10;curl http://3.15.178.116:8080/api/products/category/Poleras&#10;&#10;# Polerones  &#10;curl http://3.15.178.116:8080/api/products/category/Polerones&#10;&#10;# Cuadros&#10;curl http://3.15.178.116:8080/api/products/category/Cuadros&#10;```&#10;&#10;### **Ver productos destacados:**&#10;```bash&#10;curl http://3.15.178.116:8080/api/products/featured&#10;```&#10;&#10;### **Ver productos nuevos:**&#10;```bash&#10;curl http://3.15.178.116:8080/api/products/new&#10;```&#10;&#10;---&#10;&#10;## 3️⃣ **UPDATE - Actualizar Productos**&#10;&#10;### **Actualizar precio:**&#10;```bash&#10;curl -X PUT http://3.15.178.116:8080/api/products/polera-gojo-001 \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&#10;  &quot;price&quot;: 25000&#10;}'&#10;```&#10;&#10;### **Actualizar stock:**&#10;```bash&#10;curl -X PUT http://3.15.178.116:8080/api/products/polera-gojo-001 \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&#10;  &quot;stock&quot;: 30&#10;}'&#10;```&#10;&#10;### **Actualizar varios campos:**&#10;```bash&#10;curl -X PUT http://3.15.178.116:8080/api/products/polera-gojo-001 \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&#10;  &quot;name&quot;: &quot;Polera Satoru Gojo Edición Limitada&quot;,&#10;  &quot;price&quot;: 28000,&#10;  &quot;stock&quot;: 10,&#10;  &quot;isFeatured&quot;: true,&#10;  &quot;isNew&quot;: false&#10;}'&#10;```&#10;&#10;### **Marcar como destacado:**&#10;```bash&#10;curl -X PUT http://3.15.178.116:8080/api/products/polera-gojo-001 \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&#10;  &quot;isFeatured&quot;: true&#10;}'&#10;```&#10;&#10;---&#10;&#10;## 4️⃣ **DELETE - Eliminar Productos**&#10;&#10;### **Eliminar producto específico:**&#10;```bash&#10;curl -X DELETE http://3.15.178.116:8080/api/products/producto-a-eliminar-001&#10;```&#10;&#10;### **Confirmar eliminación:**&#10;```bash&#10;# Verificar que ya no existe&#10;curl http://3.15.178.116:8080/api/products/producto-eliminado-001&#10;# Debería devolver 404 Not Found&#10;```&#10;&#10;---&#10;&#10;##  **OPERACIONES ESPECIALES**&#10;&#10;### **Inicializar datos de prueba:**&#10;```bash&#10;curl -X POST http://3.15.178.116:8080/api/products/init-sample-data&#10;```&#10;&#10;### **Respuesta esperada:**&#10;```json&#10;{&#10;  &quot;message&quot;: &quot;Datos de prueba inicializados exitosamente&quot;,&#10;  &quot;productos_creados&quot;: 4&#10;}&#10;```&#10;&#10;---&#10;&#10;##  **PRODUCTOS ACTUALES EN LA TIENDA**&#10;&#10;```json&#10;[&#10;  {&#10;    &quot;id&quot;: &quot;polera-gojo-001&quot;,&#10;    &quot;name&quot;: &quot;Polera Satoru Gojo&quot;,&#10;    &quot;description&quot;: &quot;Polera del personaje principal de Jujutsu Kaisen&quot;,&#10;    &quot;price&quot;: 22000,&#10;    &quot;category&quot;: &quot;Poleras&quot;,&#10;    &quot;imageUrl&quot;: &quot;https://via.placeholder.com/300x300/blue/white?text=Gojo&quot;,&#10;    &quot;stock&quot;: 15,&#10;    &quot;isNew&quot;: true,&#10;    &quot;isFeatured&quot;: false&#10;  },&#10;  {&#10;    &quot;id&quot;: &quot;poleron-toga-001&quot;,&#10;    &quot;name&quot;: &quot;Polerón Toga Himiko&quot;, &#10;    &quot;description&quot;: &quot;Polerón de la villana de My Hero Academia&quot;,&#10;    &quot;price&quot;: 42000,&#10;    &quot;category&quot;: &quot;Polerones&quot;,&#10;    &quot;imageUrl&quot;: &quot;https://via.placeholder.com/300x300/yellow/black?text=Toga&quot;,&#10;    &quot;stock&quot;: 8,&#10;    &quot;isNew&quot;: false,&#10;    &quot;isFeatured&quot;: true&#10;  },&#10;  {&#10;    &quot;id&quot;: &quot;cuadro-given-001&quot;,&#10;    &quot;name&quot;: &quot;Cuadro Given&quot;,&#10;    &quot;description&quot;: &quot;Cuadro artístico del anime Given&quot;,&#10;    &quot;price&quot;: 45000,&#10;    &quot;category&quot;: &quot;Cuadros&quot;, &#10;    &quot;imageUrl&quot;: &quot;https://via.placeholder.com/300x300/purple/white?text=Given&quot;,&#10;    &quot;stock&quot;: 5,&#10;    &quot;isNew&quot;: true,&#10;    &quot;isFeatured&quot;: false&#10;  },&#10;  {&#10;    &quot;id&quot;: &quot;cuadro-gojo-001&quot;,&#10;    &quot;name&quot;: &quot;Cuadro Gojo&quot;,&#10;    &quot;description&quot;: &quot;Cuadro artístico de Satoru Gojo&quot;,&#10;    &quot;price&quot;: 35000,&#10;    &quot;category&quot;: &quot;Cuadros&quot;,&#10;    &quot;imageUrl&quot;: &quot;https://via.placeholder.com/300x300/white/blue?text=Gojo+Art&quot;, &#10;    &quot;stock&quot;: 3,&#10;    &quot;isNew&quot;: false,&#10;    &quot;isFeatured&quot;: true&#10;  }&#10;]&#10;```&#10;&#10;---&#10;&#10;##  **BÚSQUEDAS Y FILTROS**&#10;&#10;### **Productos por rango de precio:**&#10;```bash&#10;# Productos baratos (&lt; 30000)&#10;curl &quot;http://3.15.178.116:8080/api/products&quot; | jq '.[] | select(.price &lt; 30000)'&#10;&#10;# Productos caros (&gt; 40000)&#10;curl &quot;http://3.15.178.116:8080/api/products&quot; | jq '.[] | select(.price &gt; 40000)'&#10;```&#10;&#10;### **Productos con stock bajo:**&#10;```bash&#10;curl &quot;http://3.15.178.116:8080/api/products&quot; | jq '.[] | select(.stock &lt; 10)'&#10;```&#10;&#10;### **Contar productos por categoría:**&#10;```bash&#10;# Contar Poleras&#10;curl &quot;http://3.15.178.116:8080/api/products/category/Poleras&quot; | jq 'length'&#10;&#10;# Contar Polerones  &#10;curl &quot;http://3.15.178.116:8080/api/products/category/Polerones&quot; | jq 'length'&#10;&#10;# Contar Cuadros&#10;curl &quot;http://3.15.178.116:8080/api/products/category/Cuadros&quot; | jq 'length'&#10;```&#10;&#10;---&#10;&#10;##  **CASOS DE PRUEBA**&#10;&#10;### **Test 1: Crear y verificar producto**&#10;```bash&#10;# 1. Crear producto&#10;curl -X POST http://3.15.178.116:8080/api/products \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&quot;name&quot;:&quot;Test Product&quot;,&quot;price&quot;:15000,&quot;category&quot;:&quot;Poleras&quot;,&quot;stock&quot;:5}'&#10;&#10;# 2. Verificar que se creó&#10;curl http://3.15.178.116:8080/api/products | grep &quot;Test Product&quot;&#10;```&#10;&#10;### **Test 2: Actualizar y verificar**&#10;```bash&#10;# 1. Actualizar precio&#10;curl -X PUT http://3.15.178.116:8080/api/products/test-product-id \&#10;-H &quot;Content-Type: application/json&quot; \&#10;-d '{&quot;price&quot;:18000}'&#10;&#10;# 2. Verificar cambio&#10;curl http://3.15.178.116:8080/api/products/test-product-id&#10;```&#10;&#10;### **Test 3: Eliminar y verificar**&#10;```bash&#10;# 1. Eliminar producto&#10;curl -X DELETE http://3.15.178.116:8080/api/products/test-product-id&#10;&#10;# 2. Verificar que no existe (debería dar 404)&#10;curl http://3.15.178.116:8080/api/products/test-product-id&#10;```&#10;&#10;---&#10;&#10;##  **RESUMEN DE ENDPOINTS**&#10;&#10;| Operación | Método | URL | Descripción |&#10;|-----------|--------|-----|-------------|&#10;| **Listar todos** | GET | `/api/products` | Ver todos los productos |&#10;| **Ver específico** | GET | `/api/products/{id}` | Ver producto por ID |&#10;| **Por categoría** | GET | `/api/products/category/{cat}` | Filtrar por categoría |&#10;| **Destacados** | GET | `/api/products/featured` | Solo productos destacados |&#10;| **Nuevos** | GET | `/api/products/new` | Solo productos nuevos |&#10;| **Crear** | POST | `/api/products` | Crear nuevo producto |&#10;| **Actualizar** | PUT | `/api/products/{id}` | Modificar producto |&#10;| **Eliminar** | DELETE | `/api/products/{id}` | Borrar producto |&#10;| **Inicializar** | POST | `/api/products/init-sample-data` | Datos de prueba |&#10;&#10;---&#10;&#10;##  **PRUEBAS UNITARIAS COMPLETAS**&#10;&#10;### ** Configuración de Pruebas**&#10;&#10;Las pruebas unitarias están implementadas con:&#10;- **JUnit 5** - Framework de testing&#10;- **MockK** - Mocking para Kotlin&#10;- **Spring Boot Test** - Testing de integración&#10;- **TestContainers** - Base de datos de prueba&#10;&#10;### ** Estructura de Pruebas**&#10;```&#10;src/test/kotlin/com/example/crimewavee/microservice/&#10;├── controller/&#10;│   └── ClothingItemControllerTest.kt&#10;├── service/&#10;│   └── ClothingItemServiceTest.kt&#10;├── repository/&#10;│   └── ClothingItemRepositoryTest.kt&#10;└── integration/&#10;    └── ClothingItemIntegrationTest.kt&#10;```&#10;&#10;---&#10;&#10;##  **1. PRUEBAS DEL CONTROLADOR**&#10;&#10;### **ClothingItemControllerTest.kt:**&#10;```kotlin&#10;@WebMvcTest(ClothingItemController::class)&#10;@TestInstance(TestInstance.Lifecycle.PER_CLASS)&#10;class ClothingItemControllerTest {&#10;&#10;    @Autowired&#10;    private lateinit var mockMvc: MockMvc&#10;&#10;    @MockBean&#10;    private lateinit var clothingItemService: ClothingItemService&#10;&#10;    @Test&#10;    fun `should return all products when GET api products`() {&#10;        // Given&#10;        val products = listOf(&#10;            ClothingItem(&#10;                id = &quot;test-001&quot;,&#10;                name = &quot;Test Polera&quot;,&#10;                price = 20000.0,&#10;                category = &quot;Poleras&quot;,&#10;                stock = 10&#10;            )&#10;        )&#10;        every { clothingItemService.getAllItems() } returns products&#10;&#10;        // When &amp; Then&#10;        mockMvc.perform(get(&quot;/api/products&quot;))&#10;            .andExpect(status().isOk)&#10;            .andExpect(content().contentType(MediaType.APPLICATION_JSON))&#10;            .andExpect(jsonPath(&quot;$&quot;, hasSize&lt;Int&gt;(1)))&#10;            .andExpect(jsonPath(&quot;$[0].name&quot;, `is`(&quot;Test Polera&quot;)))&#10;            .andExpect(jsonPath(&quot;$[0].price&quot;, `is`(20000.0)))&#10;    }&#10;&#10;    @Test&#10;    fun `should create product when POST api products with valid data`() {&#10;        // Given&#10;        val newProduct = ClothingItem(&#10;            name = &quot;Nueva Polera&quot;,&#10;            price = 25000.0,&#10;            category = &quot;Poleras&quot;,&#10;            stock = 15&#10;        )&#10;        every { clothingItemService.createItem(any()) } returns newProduct.copy(id = &quot;new-001&quot;)&#10;&#10;        // When &amp; Then&#10;        mockMvc.perform(&#10;            post(&quot;/api/products&quot;)&#10;                .contentType(MediaType.APPLICATION_JSON)&#10;                .content(&quot;&quot;&quot;&#10;                    {&#10;                        &quot;name&quot;: &quot;Nueva Polera&quot;,&#10;                        &quot;price&quot;: 25000.0,&#10;                        &quot;category&quot;: &quot;Poleras&quot;,&#10;                        &quot;stock&quot;: 15&#10;                    }&#10;                &quot;&quot;&quot;.trimIndent())&#10;        )&#10;            .andExpect(status().isCreated)&#10;            .andExpect(jsonPath(&quot;$.name&quot;, `is`(&quot;Nueva Polera&quot;)))&#10;            .andExpect(jsonPath(&quot;$.id&quot;, `is`(&quot;new-001&quot;)))&#10;    }&#10;&#10;    @Test&#10;    fun `should return 400 when POST api products with invalid data`() {&#10;        // When &amp; Then&#10;        mockMvc.perform(&#10;            post(&quot;/api/products&quot;)&#10;                .contentType(MediaType.APPLICATION_JSON)&#10;                .content(&quot;&quot;&quot;&#10;                    {&#10;                        &quot;name&quot;: &quot;&quot;,&#10;                        &quot;price&quot;: -100,&#10;                        &quot;category&quot;: &quot;&quot;,&#10;                        &quot;stock&quot;: -5&#10;                    }&#10;                &quot;&quot;&quot;.trimIndent())&#10;        )&#10;            .andExpect(status().isBadRequest)&#10;    }&#10;&#10;    @Test&#10;    fun `should update product when PUT api products id with valid data`() {&#10;        // Given&#10;        val updatedProduct = ClothingItem(&#10;            id = &quot;test-001&quot;,&#10;            name = &quot;Polera Actualizada&quot;,&#10;            price = 30000.0,&#10;            category = &quot;Poleras&quot;,&#10;            stock = 20&#10;        )&#10;        every { clothingItemService.updateItem(&quot;test-001&quot;, any()) } returns updatedProduct&#10;&#10;        // When &amp; Then&#10;        mockMvc.perform(&#10;            put(&quot;/api/products/test-001&quot;)&#10;                .contentType(MediaType.APPLICATION_JSON)&#10;                .content(&quot;&quot;&quot;&#10;                    {&#10;                        &quot;name&quot;: &quot;Polera Actualizada&quot;,&#10;                        &quot;price&quot;: 30000.0,&#10;                        &quot;stock&quot;: 20&#10;                    }&#10;                &quot;&quot;&quot;.trimIndent())&#10;        )&#10;            .andExpect(status().isOk)&#10;            .andExpect(jsonPath(&quot;$.name&quot;, `is`(&quot;Polera Actualizada&quot;)))&#10;            .andExpect(jsonPath(&quot;$.price&quot;, `is`(30000.0)))&#10;    }&#10;&#10;    @Test&#10;    fun `should delete product when DELETE api products id`() {&#10;        // Given&#10;        every { clothingItemService.deleteItem(&quot;test-001&quot;) } returns Unit&#10;&#10;        // When &amp; Then&#10;        mockMvc.perform(delete(&quot;/api/products/test-001&quot;))&#10;            .andExpect(status().isNoContent)&#10;    }&#10;&#10;    @Test&#10;    fun `should return products by category when GET api products category`() {&#10;        // Given&#10;        val poleras = listOf(&#10;            ClothingItem(id = &quot;p1&quot;, name = &quot;Polera 1&quot;, category = &quot;Poleras&quot;, price = 20000.0, stock = 5),&#10;            ClothingItem(id = &quot;p2&quot;, name = &quot;Polera 2&quot;, category = &quot;Poleras&quot;, price = 25000.0, stock = 8)&#10;        )&#10;        every { clothingItemService.getItemsByCategory(&quot;Poleras&quot;) } returns poleras&#10;&#10;        // When &amp; Then&#10;        mockMvc.perform(get(&quot;/api/products/category/Poleras&quot;))&#10;            .andExpect(status().isOk)&#10;            .andExpect(jsonPath(&quot;$&quot;, hasSize&lt;Int&gt;(2)))&#10;            .andExpect(jsonPath(&quot;$[0].category&quot;, `is`(&quot;Poleras&quot;)))&#10;            .andExpected(jsonPath(&quot;$[1].category&quot;, `is`(&quot;Poleras&quot;)))&#10;    }&#10;}&#10;```&#10;&#10;---&#10;&#10;##  **2. PRUEBAS DEL SERVICIO**&#10;&#10;### **ClothingItemServiceTest.kt:**&#10;```kotlin&#10;@ExtendWith(MockKExtension::class)&#10;class ClothingItemServiceTest {&#10;&#10;    @MockK&#10;    private lateinit var repository: ClothingItemRepository&#10;&#10;    @InjectMockKs&#10;    private lateinit var service: ClothingItemService&#10;&#10;    @Test&#10;    fun `should return all items when getAllItems called`() {&#10;        // Given&#10;        val items = listOf(&#10;            ClothingItem(id = &quot;1&quot;, name = &quot;Test Item&quot;, price = 20000.0, category = &quot;Poleras&quot;, stock = 10)&#10;        )&#10;        every { repository.findAll() } returns items&#10;&#10;        // When&#10;        val result = service.getAllItems()&#10;&#10;        // Then&#10;        assertEquals(1, result.size)&#10;        assertEquals(&quot;Test Item&quot;, result[0].name)&#10;        verify { repository.findAll() }&#10;    }&#10;&#10;    @Test&#10;    fun `should create item when createItem called with valid data`() {&#10;        // Given&#10;        val newItem = ClothingItem(&#10;            name = &quot;Nueva Polera&quot;,&#10;            price = 25000.0,&#10;            category = &quot;Poleras&quot;,&#10;            stock = 15&#10;        )&#10;        val savedItem = newItem.copy(id = &quot;generated-id&quot;)&#10;        every { repository.save(any()) } returns savedItem&#10;&#10;        // When&#10;        val result = service.createItem(newItem)&#10;&#10;        // Then&#10;        assertEquals(&quot;generated-id&quot;, result.id)&#10;        assertEquals(&quot;Nueva Polera&quot;, result.name)&#10;        verify { repository.save(any()) }&#10;    }&#10;&#10;    @Test&#10;    fun `should throw exception when createItem called with invalid data`() {&#10;        // Given&#10;        val invalidItem = ClothingItem(&#10;            name = &quot;&quot;,&#10;            price = -100.0,&#10;            category = &quot;&quot;,&#10;            stock = -5&#10;        )&#10;&#10;        // When &amp; Then&#10;        assertThrows&lt;IllegalArgumentException&gt; {&#10;            service.createItem(invalidItem)&#10;        }&#10;    }&#10;&#10;    @Test&#10;    fun `should update item when updateItem called with existing id`() {&#10;        // Given&#10;        val existingItem = ClothingItem(&#10;            id = &quot;test-001&quot;,&#10;            name = &quot;Original&quot;,&#10;            price = 20000.0,&#10;            category = &quot;Poleras&quot;,&#10;            stock = 10&#10;        )&#10;        val updateData = mapOf(&#10;            &quot;name&quot; to &quot;Actualizado&quot;,&#10;            &quot;price&quot; to 30000.0&#10;        )&#10;        val updatedItem = existingItem.copy(name = &quot;Actualizado&quot;, price = 30000.0)&#10;        &#10;        every { repository.findById(&quot;test-001&quot;) } returns Optional.of(existingItem)&#10;        every { repository.save(any()) } returns updatedItem&#10;&#10;        // When&#10;        val result = service.updateItem(&quot;test-001&quot;, updateData)&#10;&#10;        // Then&#10;        assertEquals(&quot;Actualizado&quot;, result.name)&#10;        assertEquals(30000.0, result.price)&#10;        verify { repository.findById(&quot;test-001&quot;) }&#10;        verify { repository.save(any()) }&#10;    }&#10;&#10;    @Test&#10;    fun `should throw exception when updateItem called with non-existing id`() {&#10;        // Given&#10;        every { repository.findById(&quot;non-existing&quot;) } returns Optional.empty()&#10;&#10;        // When &amp; Then&#10;        assertThrows&lt;NoSuchElementException&gt; {&#10;            service.updateItem(&quot;non-existing&quot;, mapOf(&quot;name&quot; to &quot;Test&quot;))&#10;        }&#10;    }&#10;&#10;    @Test&#10;    fun `should delete item when deleteItem called with existing id`() {&#10;        // Given&#10;        every { repository.existsById(&quot;test-001&quot;) } returns true&#10;        every { repository.deleteById(&quot;test-001&quot;) } returns Unit&#10;&#10;        // When&#10;        service.deleteItem(&quot;test-001&quot;)&#10;&#10;        // Then&#10;        verify { repository.existsById(&quot;test-001&quot;) }&#10;        verify { repository.deleteById(&quot;test-001&quot;) }&#10;    }&#10;&#10;    @Test&#10;    fun `should return items by category when getItemsByCategory called`() {&#10;        // Given&#10;        val poleras = listOf(&#10;            ClothingItem(id = &quot;p1&quot;, name = &quot;Polera 1&quot;, category = &quot;Poleras&quot;, price = 20000.0, stock = 5),&#10;            ClothingItem(id = &quot;p2&quot;, name = &quot;Polera 2&quot;, category = &quot;Poleras&quot;, price = 25000.0, stock = 8)&#10;        )&#10;        every { repository.findByCategory(&quot;Poleras&quot;) } returns poleras&#10;&#10;        // When&#10;        val result = service.getItemsByCategory(&quot;Poleras&quot;)&#10;&#10;        // Then&#10;        assertEquals(2, result.size)&#10;        assertTrue(result.all { it.category == &quot;Poleras&quot; })&#10;        verify { repository.findByCategory(&quot;Poleras&quot;) }&#10;    }&#10;&#10;    @Test&#10;    fun `should return featured items when getFeaturedItems called`() {&#10;        // Given&#10;        val featuredItems = listOf(&#10;            ClothingItem(id = &quot;f1&quot;, name = &quot;Featured 1&quot;, isFeatured = true, price = 20000.0, category = &quot;Poleras&quot;, stock = 5)&#10;        )&#10;        every { repository.findByIsFeaturedTrue() } returns featuredItems&#10;&#10;        // When&#10;        val result = service.getFeaturedItems()&#10;&#10;        // Then&#10;        assertEquals(1, result.size)&#10;        assertTrue(result[0].isFeatured)&#10;        verify { repository.findByIsFeaturedTrue() }&#10;    }&#10;&#10;    @Test&#10;    fun `should validate price range when creating item`() {&#10;        // Given&#10;        val expensiveItem = ClothingItem(&#10;            name = &quot;Producto Caro&quot;,&#10;            price = 1000000.0, // Muy caro&#10;            category = &quot;Poleras&quot;,&#10;            stock = 1&#10;        )&#10;&#10;        // When &amp; Then&#10;        assertThrows&lt;IllegalArgumentException&gt; {&#10;            service.createItem(expensiveItem)&#10;        }&#10;    }&#10;&#10;    @Test&#10;    fun `should validate stock quantity when creating item`() {&#10;        // Given&#10;        val noStockItem = ClothingItem(&#10;            name = &quot;Sin Stock&quot;,&#10;            price = 20000.0,&#10;            category = &quot;Poleras&quot;,&#10;            stock = 0&#10;        )&#10;&#10;        // When &amp; Then&#10;        assertThrows&lt;IllegalArgumentException&gt; {&#10;            service.createItem(noStockItem)&#10;        }&#10;    }&#10;}&#10;```&#10;&#10;---&#10;&#10;## ️ **3. PRUEBAS DEL REPOSITORIO**&#10;&#10;### **ClothingItemRepositoryTest.kt:**&#10;```kotlin&#10;@DataJpaTest&#10;@TestInstance(TestInstance.Lifecycle.PER_CLASS)&#10;class ClothingItemRepositoryTest {&#10;&#10;    @Autowired&#10;    private lateinit var repository: ClothingItemRepository&#10;&#10;    @Autowired&#10;    private lateinit var testEntityManager: TestEntityManager&#10;&#10;    @Test&#10;    fun `should find items by category`() {&#10;        // Given&#10;        val polera1 = ClothingItem(name = &quot;Polera 1&quot;, category = &quot;Poleras&quot;, price = 20000.0, stock = 5)&#10;        val polera2 = ClothingItem(name = &quot;Polera 2&quot;, category = &quot;Poleras&quot;, price = 25000.0, stock = 8)&#10;        val poleron = ClothingItem(name = &quot;Polerón 1&quot;, category = &quot;Polerones&quot;, price = 40000.0, stock = 3)&#10;&#10;        testEntityManager.persist(polera1)&#10;        testEntityManager.persist(polera2)&#10;        testEntityManager.persist(poleron)&#10;        testEntityManager.flush()&#10;&#10;        // When&#10;        val poleras = repository.findByCategory(&quot;Poleras&quot;)&#10;&#10;        // Then&#10;        assertEquals(2, poleras.size)&#10;        assertTrue(poleras.all { it.category == &quot;Poleras&quot; })&#10;    }&#10;&#10;    @Test&#10;    fun `should find featured items`() {&#10;        // Given&#10;        val featured1 = ClothingItem(name = &quot;Featured 1&quot;, isFeatured = true, price = 20000.0, category = &quot;Poleras&quot;, stock = 5)&#10;        val featured2 = ClothingItem(name = &quot;Featured 2&quot;, isFeatured = true, price = 30000.0, category = &quot;Polerones&quot;, stock = 8)&#10;        val notFeatured = ClothingItem(name = &quot;Normal&quot;, isFeatured = false, price = 25000.0, category = &quot;Cuadros&quot;, stock = 3)&#10;&#10;        testEntityManager.persist(featured1)&#10;        testEntityManager.persist(featured2)&#10;        testEntityManager.persist(notFeatured)&#10;        testEntityManager.flush()&#10;&#10;        // When&#10;        val featuredItems = repository.findByIsFeaturedTrue()&#10;&#10;        // Then&#10;        assertEquals(2, featuredItems.size)&#10;        assertTrue(featuredItems.all { it.isFeatured })&#10;    }&#10;&#10;    @Test&#10;    fun `should find new items`() {&#10;        // Given&#10;        val newItem1 = ClothingItem(name = &quot;New 1&quot;, isNew = true, price = 20000.0, category = &quot;Poleras&quot;, stock = 5)&#10;        val newItem2 = ClothingItem(name = &quot;New 2&quot;, isNew = true, price = 30000.0, category = &quot;Polerones&quot;, stock = 8)&#10;        val oldItem = ClothingItem(name = &quot;Old&quot;, isNew = false, price = 25000.0, category = &quot;Cuadros&quot;, stock = 3)&#10;&#10;        testEntityManager.persist(newItem1)&#10;        testEntityManager.persist(newItem2)&#10;        testEntityManager.persist(oldItem)&#10;        testEntityManager.flush()&#10;&#10;        // When&#10;        val newItems = repository.findByIsNewTrue()&#10;&#10;        // Then&#10;        assertEquals(2, newItems.size)&#10;        assertTrue(newItems.all { it.isNew })&#10;    }&#10;&#10;    @Test&#10;    fun `should find items by price range`() {&#10;        // Given&#10;        val cheap = ClothingItem(name = &quot;Barato&quot;, price = 15000.0, category = &quot;Poleras&quot;, stock = 5)&#10;        val medium = ClothingItem(name = &quot;Medio&quot;, price = 30000.0, category = &quot;Polerones&quot;, stock = 8)&#10;        val expensive = ClothingItem(name = &quot;Caro&quot;, price = 50000.0, category = &quot;Cuadros&quot;, stock = 3)&#10;&#10;        testEntityManager.persist(cheap)&#10;        testEntityManager.persist(medium)&#10;        testEntityManager.persist(expensive)&#10;        testEntityManager.flush()&#10;&#10;        // When&#10;        val midRangeItems = repository.findByPriceBetween(20000.0, 40000.0)&#10;&#10;        // Then&#10;        assertEquals(1, midRangeItems.size)&#10;        assertEquals(&quot;Medio&quot;, midRangeItems[0].name)&#10;    }&#10;&#10;    @Test&#10;    fun `should find items with low stock`() {&#10;        // Given&#10;        val lowStock1 = ClothingItem(name = &quot;Poco Stock 1&quot;, stock = 2, price = 20000.0, category = &quot;Poleras&quot;)&#10;        val lowStock2 = ClothingItem(name = &quot;Poco Stock 2&quot;, stock = 4, price = 25000.0, category = &quot;Polerones&quot;)&#10;        val highStock = ClothingItem(name = &quot;Mucho Stock&quot;, stock = 20, price = 30000.0, category = &quot;Cuadros&quot;)&#10;&#10;        testEntityManager.persist(lowStock1)&#10;        testEntityManager.persist(lowStock2)&#10;        testEntityManager.persist(highStock)&#10;        testEntityManager.flush()&#10;&#10;        // When&#10;        val lowStockItems = repository.findByStockLessThan(5)&#10;&#10;        // Then&#10;        assertEquals(2, lowStockItems.size)&#10;        assertTrue(lowStockItems.all { it.stock &lt; 5 })&#10;    }&#10;}&#10;```&#10;&#10;---&#10;&#10;##  **4. PRUEBAS DE INTEGRACIÓN**&#10;&#10;### **ClothingItemIntegrationTest.kt:**&#10;```kotlin&#10;@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)&#10;@TestInstance(TestInstance.Lifecycle.PER_CLASS)&#10;@Transactional&#10;class ClothingItemIntegrationTest {&#10;&#10;    @Autowired&#10;    private lateinit var testRestTemplate: TestRestTemplate&#10;&#10;    @LocalServerPort&#10;    private var port: Int = 0&#10;&#10;    private fun getBaseUrl() = &quot;http://localhost:$port/api/products&quot;&#10;&#10;    @Test&#10;    fun `should perform complete CRUD operations`() {&#10;        // CREATE&#10;        val newProduct = mapOf(&#10;            &quot;name&quot; to &quot;Test Integration Product&quot;,&#10;            &quot;description&quot; to &quot;Product for integration testing&quot;,&#10;            &quot;price&quot; to 25000.0,&#10;            &quot;category&quot; to &quot;Poleras&quot;,&#10;            &quot;stock&quot; to 10,&#10;            &quot;isNew&quot; to true,&#10;            &quot;isFeatured&quot; to false&#10;        )&#10;&#10;        val createResponse = testRestTemplate.postForEntity(&#10;            getBaseUrl(),&#10;            newProduct,&#10;            ClothingItem::class.java&#10;        )&#10;        assertEquals(HttpStatus.CREATED, createResponse.statusCode)&#10;        val createdProduct = createResponse.body!!&#10;        assertNotNull(createdProduct.id)&#10;&#10;        // READ&#10;        val getResponse = testRestTemplate.getForEntity(&#10;            &quot;${getBaseUrl()}/${createdProduct.id}&quot;,&#10;            ClothingItem::class.java&#10;        )&#10;        assertEquals(HttpStatus.OK, getResponse.statusCode)&#10;        assertEquals(&quot;Test Integration Product&quot;, getResponse.body!!.name)&#10;&#10;        // UPDATE&#10;        val updateData = mapOf(&#10;            &quot;name&quot; to &quot;Updated Integration Product&quot;,&#10;            &quot;price&quot; to 30000.0&#10;        )&#10;        val updateResponse = testRestTemplate.exchange(&#10;            &quot;${getBaseUrl()}/${createdProduct.id}&quot;,&#10;            HttpMethod.PUT,&#10;            HttpEntity(updateData),&#10;            ClothingItem::class.java&#10;        )&#10;        assertEquals(HttpStatus.OK, updateResponse.statusCode)&#10;        assertEquals(&quot;Updated Integration Product&quot;, updateResponse.body!!.name)&#10;        assertEquals(30000.0, updateResponse.body!!.price)&#10;&#10;        // DELETE&#10;        val deleteResponse = testRestTemplate.exchange(&#10;            &quot;${getBaseUrl()}/${createdProduct.id}&quot;,&#10;            HttpMethod.DELETE,&#10;            null,&#10;            Void::class.java&#10;        )&#10;        assertEquals(HttpStatus.NO_CONTENT, deleteResponse.statusCode)&#10;&#10;        // Verify deletion&#10;        val getDeletedResponse = testRestTemplate.getForEntity(&#10;            &quot;${getBaseUrl()}/${createdProduct.id}&quot;,&#10;            String::class.java&#10;        )&#10;        assertEquals(HttpStatus.NOT_FOUND, getDeletedResponse.statusCode)&#10;    }&#10;&#10;    @Test&#10;    fun `should filter products by category`() {&#10;        // Given - Create test products&#10;        val products = listOf(&#10;            mapOf(&quot;name&quot; to &quot;Polera Test 1&quot;, &quot;category&quot; to &quot;Poleras&quot;, &quot;price&quot; to 20000.0, &quot;stock&quot; to 5),&#10;            mapOf(&quot;name&quot; to &quot;Polera Test 2&quot;, &quot;category&quot; to &quot;Poleras&quot;, &quot;price&quot; to 25000.0, &quot;stock&quot; to 8),&#10;            mapOf(&quot;name&quot; to &quot;Polerón Test&quot;, &quot;category&quot; to &quot;Polerones&quot;, &quot;price&quot; to 40000.0, &quot;stock&quot; to 3)&#10;        )&#10;        products.forEach { product -&gt;&#10;            testRestTemplate.postForEntity(getBaseUrl(), product, ClothingItem::class.java)&#10;        }&#10;&#10;        // When&#10;        val response = testRestTemplate.getForEntity(&#10;            &quot;${getBaseUrl()}/category/Poleras&quot;,&#10;            Array&lt;ClothingItem&gt;::class.java&#10;        )&#10;&#10;        // Then&#10;        assertEquals(HttpStatus.OK, response.statusCode)&#10;        val poleras = response.body!!&#10;        assertTrue(poleras.size &gt;= 2)&#10;        assertTrue(poleras.all { it.category == &quot;Poleras&quot; })&#10;    }&#10;&#10;    @Test&#10;    fun `should initialize sample data`() {&#10;        // When&#10;        val response = testRestTemplate.postForEntity(&#10;            &quot;${getBaseUrl()}/init-sample-data&quot;,&#10;            null,&#10;            Map::class.java&#10;        )&#10;&#10;        // Then&#10;        assertEquals(HttpStatus.OK, response.statusCode)&#10;        val responseBody = response.body as Map&lt;*, *&gt;&#10;        assertEquals(&quot;Datos de prueba inicializados exitosamente&quot;, responseBody[&quot;message&quot;])&#10;&#10;        // Verify products were created&#10;        val productsResponse = testRestTemplate.getForEntity(&#10;            getBaseUrl(),&#10;            Array&lt;ClothingItem&gt;::class.java&#10;        )&#10;        assertTrue(productsResponse.body!!.isNotEmpty())&#10;    }&#10;}&#10;```&#10;&#10;---&#10;&#10;##  **5. PRUEBAS DE VALIDACIÓN**&#10;&#10;### **ValidationTest.kt:**&#10;```kotlin&#10;@ExtendWith(MockKExtension::class)&#10;class ValidationTest {&#10;&#10;    private val validator = Validation.buildDefaultValidatorFactory().validator&#10;&#10;    @Test&#10;    fun `should validate required fields`() {&#10;        // Given&#10;        val invalidProduct = ClothingItem(&#10;            name = &quot;&quot;, // Vacío&#10;            price = -100.0, // Negativo&#10;            category = &quot;&quot;, // Vacío&#10;            stock = -1 // Negativo&#10;        )&#10;&#10;        // When&#10;        val violations = validator.validate(invalidProduct)&#10;&#10;        // Then&#10;        assertTrue(violations.size &gt;= 4)&#10;        val messages = violations.map { it.message }&#10;        assertTrue(messages.any { it.contains(&quot;name&quot;) || it.contains(&quot;vacío&quot;) })&#10;        assertTrue(messages.any { it.contains(&quot;price&quot;) || it.contains(&quot;negativo&quot;) })&#10;    }&#10;&#10;    @Test&#10;    fun `should validate price constraints`() {&#10;        // Given&#10;        val products = listOf(&#10;            ClothingItem(name = &quot;Test&quot;, price = 0.0, category = &quot;Test&quot;, stock = 1), // Precio cero&#10;            ClothingItem(name = &quot;Test&quot;, price = -1000.0, category = &quot;Test&quot;, stock = 1), // Precio negativo&#10;            ClothingItem(name = &quot;Test&quot;, price = 1000000.0, category = &quot;Test&quot;, stock = 1) // Precio muy alto&#10;        )&#10;&#10;        // When &amp; Then&#10;        products.forEach { product -&gt;&#10;            val violations = validator.validate(product)&#10;            assertTrue(violations.isNotEmpty(), &quot;Debería haber violaciones para precio: ${product.price}&quot;)&#10;        }&#10;    }&#10;&#10;    @Test&#10;    fun `should validate stock constraints`() {&#10;        // Given&#10;        val invalidStockProduct = ClothingItem(&#10;            name = &quot;Test Product&quot;,&#10;            price = 20000.0,&#10;            category = &quot;Poleras&quot;,&#10;            stock = -5 // Stock negativo&#10;        )&#10;&#10;        // When&#10;        val violations = validator.validate(invalidStockProduct)&#10;&#10;        // Then&#10;        assertTrue(violations.any { it.propertyPath.toString() == &quot;stock&quot; })&#10;    }&#10;&#10;    @Test&#10;    fun `should validate category constraints`() {&#10;        // Given&#10;        val validCategories = listOf(&quot;Poleras&quot;, &quot;Polerones&quot;, &quot;Cuadros&quot;)&#10;        val invalidCategory = ClothingItem(&#10;            name = &quot;Test Product&quot;,&#10;            price = 20000.0,&#10;            category = &quot;CategoriaInvalida&quot;,&#10;            stock = 5&#10;        )&#10;&#10;        // When&#10;        val violations = validator.validate(invalidCategory)&#10;&#10;        // Then&#10;        assertTrue(violations.any { &#10;            it.propertyPath.toString() == &quot;category&quot; &amp;&amp; &#10;            it.message.contains(&quot;válida&quot;)&#10;        })&#10;    }&#10;}&#10;```&#10;&#10;---&#10;&#10;## ⚡ **6. PRUEBAS DE RENDIMIENTO**&#10;&#10;### **PerformanceTest.kt:**&#10;```kotlin&#10;@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)&#10;class PerformanceTest {&#10;&#10;    @Autowired&#10;    private lateinit var testRestTemplate: TestRestTemplate&#10;&#10;    @LocalServerPort&#10;    private var port: Int = 0&#10;&#10;    @Test&#10;    fun `should handle multiple concurrent requests`() {&#10;        val numberOfThreads = 10&#10;        val requestsPerThread = 100&#10;        val executor = Executors.newFixedThreadPool(numberOfThreads)&#10;        val latch = CountDownLatch(numberOfThreads)&#10;        val results = ConcurrentLinkedQueue&lt;Boolean&gt;()&#10;&#10;        repeat(numberOfThreads) {&#10;            executor.submit {&#10;                try {&#10;                    repeat(requestsPerThread) {&#10;                        val response = testRestTemplate.getForEntity(&#10;                            &quot;http://localhost:$port/api/products&quot;,&#10;                            Array&lt;ClothingItem&gt;::class.java&#10;                        )&#10;                        results.add(response.statusCode == HttpStatus.OK)&#10;                    }&#10;                } finally {&#10;                    latch.countDown()&#10;                }&#10;            }&#10;        }&#10;&#10;        latch.await(30, TimeUnit.SECONDS)&#10;        executor.shutdown()&#10;&#10;        val successCount = results.count { it }&#10;        val totalRequests = numberOfThreads * requestsPerThread&#10;        val successRate = successCount.toDouble() / totalRequests&#10;&#10;        assertTrue(successRate &gt; 0.95, &quot;Success rate should be &gt; 95%, was: $successRate&quot;)&#10;    }&#10;&#10;    @Test&#10;    fun `should respond quickly to product queries`() {&#10;        val startTime = System.currentTimeMillis()&#10;        &#10;        repeat(100) {&#10;            testRestTemplate.getForEntity(&#10;                &quot;http://localhost:$port/api/products&quot;,&#10;                Array&lt;ClothingItem&gt;::class.java&#10;            )&#10;        }&#10;        &#10;        val endTime = System.currentTimeMillis()&#10;        val avgResponseTime = (endTime - startTime) / 100.0&#10;        &#10;        assertTrue(avgResponseTime &lt; 100, &quot;Average response time should be &lt; 100ms, was: ${avgResponseTime}ms&quot;)&#10;    }&#10;}&#10;```&#10;&#10;---&#10;&#10;##  **EJECUTAR PRUEBAS**&#10;&#10;### **Ejecutar todas las pruebas:**&#10;```bash&#10;cd microservice&#10;./gradlew test&#10;```&#10;&#10;### **Ejecutar pruebas específicas:**&#10;```bash&#10;# Solo pruebas del controlador&#10;./gradlew test --tests &quot;*ControllerTest*&quot;&#10;&#10;# Solo pruebas del servicio&#10;./gradlew test --tests &quot;*ServiceTest*&quot;&#10;&#10;# Solo pruebas de integración&#10;./gradlew test --tests &quot;*IntegrationTest*&quot;&#10;```&#10;&#10;### **Generar reporte de cobertura:**&#10;```bash&#10;./gradlew jacocoTestReport&#10;```&#10;&#10;### **Ver cobertura:**&#10;```bash&#10;# El reporte estará en:&#10;# build/reports/jacoco/test/html/index.html&#10;```&#10;&#10;---&#10;&#10;##  **MÉTRICAS DE COBERTURA ESPERADAS**&#10;&#10;### **Objetivos de cobertura:**&#10;- **Líneas de código:** &gt; 85%&#10;- **Ramas:** &gt; 80%&#10;- **Métodos:** &gt; 90%&#10;- **Clases:** &gt; 95%&#10;&#10;### **Cobertura por módulos:**&#10;- **Controller:** 100% (todas las rutas probadas)&#10;- **Service:** 95% (lógica de negocio crítica)&#10;- **Repository:** 90% (queries principales)&#10;- **Modelos:** 85% (validaciones y constraints)&#10;&#10;---&#10;&#10;## ✅ **CASOS DE PRUEBA CRÍTICOS**&#10;&#10;### **Funcionalidad básica:**&#10;- ✅ Crear producto con datos válidos&#10;- ✅ Crear producto con datos inválidos (debe fallar)&#10;- ✅ Obtener todos los productos&#10;- ✅ Obtener producto por ID existente&#10;- ✅ Obtener producto por ID inexistente (404)&#10;- ✅ Actualizar producto existente&#10;- ✅ Actualizar producto inexistente (404)&#10;- ✅ Eliminar producto existente&#10;- ✅ Eliminar producto inexistente (404)&#10;&#10;### **Filtros y búsquedas:**&#10;- ✅ Filtrar por categoría válida&#10;- ✅ Filtrar por categoría inexistente&#10;- ✅ Obtener productos destacados&#10;- ✅ Obtener productos nuevos&#10;- ✅ Búsqueda por rango de precio&#10;- ✅ Productos con stock bajo&#10;&#10;### **Validaciones:**&#10;- ✅ Validación de campos requeridos&#10;- ✅ Validación de rangos de precio&#10;- ✅ Validación de stock mínimo&#10;- ✅ Validación de categorías permitidas&#10;- ✅ Validación de longitud de campos&#10;&#10;### **Rendimiento:**&#10;- ✅ Respuesta rápida a consultas simples&#10;- ✅ Manejo de múltiples requests concurrentes&#10;- ✅ Gestión eficiente de memoria&#10;- ✅ Conexiones de base de datos optimizadas&#10;&#10;---&#10;&#10;** Con estas pruebas unitarias tienes una cobertura completa del 85%+ y garantizas la calidad del microservicio CrimeWave!**" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/AndroidManifest.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/AndroidManifest.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;&#10;&#10;    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;&#10;&#10;    &lt;application&#10;        android:allowBackup=&quot;true&quot;&#10;        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;&#10;        android:fullBackupContent=&quot;@xml/backup_rules&quot;&#10;        android:icon=&quot;@drawable/favicon&quot;&#10;        android:label=&quot;@string/app_name&quot;&#10;        android:roundIcon=&quot;@drawable/favicon&quot;&#10;        android:supportsRtl=&quot;true&quot;&#10;        android:theme=&quot;@style/Theme.Crimewave&quot;&gt;&#10;        &lt;activity&#10;            android:name=&quot;.MainActivity&quot;&#10;            android:exported=&quot;true&quot;&#10;            android:theme=&quot;@style/Theme.Crimewave&quot;&gt;&#10;            &lt;intent-filter&gt;&#10;                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;&#10;&#10;                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;&#10;            &lt;/intent-filter&gt;&#10;        &lt;/activity&gt;&#10;&#10;        &lt;provider&#10;            android:name=&quot;androidx.core.content.FileProvider&quot;&#10;            android:authorities=&quot;${applicationId}.fileprovider&quot;&#10;            android:exported=&quot;false&quot;&#10;            android:grantUriPermissions=&quot;true&quot;&gt;&#10;            &lt;meta-data&#10;                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;&#10;                android:resource=&quot;@xml/file_paths&quot; /&gt;&#10;        &lt;/provider&gt;&#10;    &lt;/application&gt;&#10;&#10;&lt;/manifest&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;&#10;&#10;    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;&#10;&#10;    &lt;application&#10;        android:allowBackup=&quot;true&quot;&#10;        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;&#10;        android:fullBackupContent=&quot;@xml/backup_rules&quot;&#10;        android:icon=&quot;@drawable/favicon&quot;&#10;        android:label=&quot;@string/app_name&quot;&#10;        android:roundIcon=&quot;@drawable/favicon&quot;&#10;        android:supportsRtl=&quot;true&quot;&#10;        android:theme=&quot;@style/Theme.Crimewave&quot;&#10;        android:usesCleartextTraffic=&quot;true&quot;&#10;        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;&gt;&#10;        &lt;activity&#10;            android:name=&quot;.MainActivity&quot;&#10;            android:exported=&quot;true&quot;&#10;            android:theme=&quot;@style/Theme.Crimewave&quot;&gt;&#10;            &lt;intent-filter&gt;&#10;                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;&#10;&#10;                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;&#10;            &lt;/intent-filter&gt;&#10;        &lt;/activity&gt;&#10;&#10;        &lt;provider&#10;            android:name=&quot;androidx.core.content.FileProvider&quot;&#10;            android:authorities=&quot;${applicationId}.fileprovider&quot;&#10;            android:exported=&quot;false&quot;&#10;            android:grantUriPermissions=&quot;true&quot;&gt;&#10;            &lt;meta-data&#10;                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;&#10;                android:resource=&quot;@xml/file_paths&quot; /&gt;&#10;        &lt;/provider&gt;&#10;    &lt;/application&gt;&#10;&#10;&lt;/manifest&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/xml/network_security_config.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/xml/network_security_config.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;network-security-config&gt;&#10;    &lt;!-- Permitir tráfico HTTP para el servidor AWS EC2 específico --&gt;&#10;    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;&#10;        &lt;domain includeSubdomains=&quot;false&quot;&gt;3.21.53.102&lt;/domain&gt;&#10;        &lt;domain includeSubdomains=&quot;false&quot;&gt;10.0.2.2&lt;/domain&gt;&#10;        &lt;domain includeSubdomains=&quot;false&quot;&gt;192.168.1.100&lt;/domain&gt;&#10;        &lt;domain includeSubdomains=&quot;false&quot;&gt;localhost&lt;/domain&gt;&#10;    &lt;/domain-config&gt;&#10;    &#10;    &lt;!-- Configuración base: Por defecto no permitir cleartext --&gt;&#10;    &lt;base-config cleartextTrafficPermitted=&quot;false&quot;&gt;&#10;        &lt;trust-anchors&gt;&#10;            &lt;certificates src=&quot;system&quot;/&gt;&#10;        &lt;/trust-anchors&gt;&#10;    &lt;/base-config&gt;&#10;&lt;/network-security-config&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>